(this.webpackJsonpmoliver=this.webpackJsonpmoliver||[]).push([[0],{250:function(e,t,a){},277:function(e,t,a){},278:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){},282:function(e,t,a){},283:function(e,t,a){},284:function(e,t,a){},285:function(e,t,a){},291:function(e,t){},293:function(e,t){},333:function(e,t){},334:function(e,t){},437:function(e,t,a){},438:function(e,t,a){},439:function(e,t,a){},440:function(e,t,a){},462:function(e,t,a){},463:function(e,t,a){},464:function(e,t,a){},465:function(e,t,a){},467:function(e,t,a){"use strict";a.r(t);var c=a(4),n=a.n(c),s=a(121),r=a.n(s),i=(a(249),a(250),a(23)),l=a(35),o=a(14),d=a(230),j=a.n(d).a.create({baseURL:"https://moliver-api.herokuapp.com/",withCredentials:!0});j.interceptors.response.use((function(e){return e.data}),(function(e){var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.clear(),window.location.assign("/login")),Promise.reject(e)}));var u=function(){return j.get("/biopsies")},b=function(){return j.get("/patients")},m=function(e){return j.get("/delete-date/".concat(e))},h=function(e){var t=e.userId,a=e.date;return j.post("/add-date",{userId:t,date:a})},O=function(e){var t=e.name,a=e.email,c=e.dni,n=e.address,s=e.zipcode,r=e.city,i=e.phone,l=e.birthdate,o=e.sex,d=e.work,u=e.insurance_carrier,b=e.marital_status;return j.post("/patient/add",{name:t,email:a,dni:c,address:n,zipcode:s,city:r,phone:i,birthdate:l,sex:o,work:d,insurance_carrier:u,marital_status:b})},x=function(e){var t=e.email,a=e.password;return j.post("/login",{email:t,password:a})},p=function(e,t){return j.patch("/biopsy/".concat(e,"/update"),{data:t})},g=function(e){var t=e.clinic_diagnosis,a=e.diagnostics,c=e.dni,n=e.material,s=e.name,r=e.reference,i=e.report;return j.post("/biopsy/add",{clinic_diagnosis:t,diagnostics:a,dni:c,material:n,name:s,reference:r,report:i})},v=function(e){var t=e.name,a=e.email,c=e.password,n=e.dni;return j.post("/register",{name:t,email:a,password:c,dni:n})},f=function(e){var t=e.password,a=e.newpassword,c=e.id;return j.post("/update-password/".concat(c),{password:t,newpassword:a})},N=a(1),w=Object(c.createContext)(),y=function(){return Object(c.useContext)(w)},C=function(e){var t=e.children,a=Object(c.useState)(JSON.parse(localStorage.getItem("user"))),n=Object(o.a)(a,2),s=n[0],r=n[1],i=Object(c.useCallback)((function(e){localStorage.setItem("user",JSON.stringify(e)),r(e)}),[]),l={user:s,login:i,logout:Object(c.useCallback)((function(){j.post("/logout"),localStorage.removeItem("user"),r(void 0)}),[])};return Object(N.jsx)(w.Provider,{value:l,children:t})},k=function(){return Object(N.jsx)(l.a,{to:"/"})},S=function(e){var t=y().user;return Object(N.jsx)(l.b,Object(i.a)(Object(i.a)({},e),{},{component:t?e.component:k}))};function D(){return Object(N.jsx)("div",{})}a(277);var B=a(29),A=function(){var e=y().user,t=y().logout;return Object(N.jsx)("div",{className:"container",children:Object(N.jsx)("div",{className:"row",children:Object(N.jsxs)("nav",{className:"navbar navbar-expand-lg",children:[Object(N.jsx)("div",{className:"header-user",children:Object(N.jsx)("div",{className:"navbar-brand",children:Object(N.jsx)(B.c,{to:"/biopsias",children:Object(N.jsx)("h1",{className:"logo-header",children:Object(N.jsx)("strong",{children:"Margarita"})})})})}),Object(N.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarToggle","aria-controls":"navbarToggle","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(N.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"bars",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:Object(N.jsx)("path",{fill:"currentColor",d:"M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"})})}),Object(N.jsx)("div",{className:"collapse navbar-collapse",id:"navbarToggle",children:Object(N.jsxs)("ul",{className:"navbar-nav col-12 col-sm-10 p-0",children:[e&&"Guest"===e.role&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(B.c,{className:"nav-link",to:"/citas",children:"Mis citas"})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(B.c,{className:"nav-link",to:"/historias",children:"Mis historias"})})]}),e&&"Admin"===e.role&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(B.c,{className:"nav-link",to:"/biopsias",children:"Biopsias"})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(B.c,{className:"nav-link",to:"/pacientes",children:"Pacientes"})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(B.c,{className:"nav-link",to:"/nueva-biopsia",children:"Agregar biopsia"})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(B.c,{className:"nav-link",to:"/nuevo-paciente",children:"Agregar paciente"})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(B.c,{className:"nav-link",to:"/nuevo-blog",children:"Agregar blog"})})]}),e&&Object(N.jsx)("span",{className:"user-logs",children:Object(N.jsx)("li",{children:Object(N.jsx)(B.c,{to:"/",className:"nav-link logout",onClick:t,children:"Salir"})})}),!e&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(B.c,{activeClassName:"active",className:"nav-link",to:"/",children:"Inicio"})}),Object(N.jsxs)("span",{className:"user-logs",children:[Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(B.c,{className:"nav-link login",to:"/login",children:"Ingresa"})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(B.c,{className:"nav-link",to:"/register",children:"Reg\xedstrate"})})]})]})]})})]})})})},_=a(122),F=a(17),I=a.n(F),M=a(28);a(278),a(279);function E(e){var t=e.value,a=e.name,c=e.onChange,n=e.onBlur,s=e.type,r=e.className,i=e.placeholder,l=e.label;return Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{className:"label",htmlFor:a,children:l}),Object(N.jsx)("input",{value:t,onBlur:n,onChange:c,className:r,name:a,type:s,placeholder:i}),Object(N.jsx)("div",{className:"invalid-feedback",children:"campo obligatorio"})]})}a(280);function z(e){var t=e.type,a=e.className,c=e.disabled,n=e.children;return Object(N.jsx)("button",{type:t,className:a,disabled:c,children:n})}var L,Y=a(89),T=function(e,t){var a=Object(c.useState)(e),n=Object(o.a)(a,2),s=n[0],r=n[1];return{state:s,onBlur:function(e){var t=e.target.name;r((function(e){return Object(i.a)(Object(i.a)({},e),{},{touch:Object(i.a)(Object(i.a)({},e.touch),{},Object(Y.a)({},t,!0))})}))},onChange:function(e){var a=e.target,c=a.name,n=a.value,s=a.files,l=t[c](n);r((function(e){return Object(i.a)(Object(i.a)({},e),{},{data:Object(i.a)(Object(i.a)({},e.data),{},Object(Y.a)({},c,s?s[0]:n)),error:Object(i.a)(Object(i.a)({},e.error),{},Object(Y.a)({},c,!l))})}))}}},q=a(88),R=a(6),J=function(e){var t=T({data:{email:"",password:""},error:{email:!0,password:!0},touch:{}},{email:function(e){return e.length},password:function(e){return e.length}}),a=t.state,n=t.onBlur,s=t.onChange,r=Object(c.useState)(!1),i=Object(o.a)(r,2),d=i[0],u=i[1];Object(c.useEffect)((function(){e.confirmed&&function(e){return j.get("/activate/".concat(e))}(e.match.params.token).then((function(){return u(!0)}))}),[e.match.params.token,e.confirmed]);var b=y().user,m=Object(c.useState)(null),h=Object(o.a)(m,2),O=h[0],p=h[1],g=y(),v=a.data,f=a.error,w=a.touch,C=function(){var e=Object(M.a)(I.a.mark((function e(t){var a,c,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,x(v);case 4:a=e.sent,g.login(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),p(null===(c=e.t0.response)||void 0===c||null===(n=c.data)||void 0===n?void 0:n.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),k=Object.values(f).some((function(e){return e}));if(b&&"Guest"===b.role)return Object(N.jsx)(l.a,{to:"/biopsias"});if(b&&"Admin"===b.role)return Object(N.jsx)(l.a,{to:"/biopsias"});if(b&&"Temporary"===b.role)return Object(N.jsx)(l.a,{to:"/update-password"});var S=Object(R.d)(L||(L=Object(_.a)(["\n    from {\n      opacity: 0;\n      transform: translate3d(0, -10rem, 0);\n    }\n  \n    to {\n      opacity: 1;\n      transform: translate3d(0, 0, 0);\n    }"])));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("section",{className:"login container head-bg"}),Object(N.jsx)(q.b,{direction:"up",duration:700,keyframes:S,children:Object(N.jsx)("div",{className:e.login?"container-fluid my-info":"container-fluid my-info login-bg",children:Object(N.jsx)("div",{className:"row justify-content-center",children:Object(N.jsxs)("div",{className:"col-sm-6 col-xl-4 col-11 login-block",children:[Object(N.jsx)("h1",{children:"HOLAAAAAAAA Ingresa con tu cuenta"}),d&&Object(N.jsx)("div",{className:"message",children:"Tu usuario ha sido activado exitosamente, por favor ingresa con tu usuario y contrase\xf1a."}),Object(N.jsxs)("form",{onSubmit:C,children:[Object(N.jsx)(E,{value:v.email,onBlur:n,onChange:s,name:"email",type:"text",label:"Correo electr\xf3nico",className:"form-control ".concat(w.email&&f.email?"is-invalid":""),placeholder:"Enter email"}),Object(N.jsx)(E,{value:v.password,onBlur:n,onChange:s,name:"password",type:"password",label:"Contrase\xf1a",className:"form-control ".concat(w.password&&f.password?"is-invalid":""),placeholder:"Enter password"}),O&&Object(N.jsx)("div",{className:"alert alert-danger",children:O}),Object(N.jsx)(z,{type:"submit",className:"Button Button__enter",disabled:k,children:"Ingresa"})]}),Object(N.jsxs)("div",{className:"col-12 d-flex justify-content-center options",children:[Object(N.jsx)(B.b,{to:"/register",children:Object(N.jsx)("strong",{children:"Registrate aqu\xed"})}),Object(N.jsx)(B.b,{to:"/forgot-password",children:"\xbfOlvidaste tu contrase\xf1a?"})]})]})})})})]})},H=(a(282),function(e){var t=T({data:{name:"",email:"",dni:"",password:""},error:{name:!0,email:!0,dni:!0,password:!0},touch:{}},{name:function(e){return e.length},email:function(e){return e.length},dni:function(e){return e.length},password:function(e){return e.length}}),a=t.state,n=t.onBlur,s=t.onChange,r=Object(l.g)(),i=Object(c.useState)(null),d=Object(o.a)(i,2),j=d[0],u=d[1],b=a.data,m=a.error,h=a.touch,O=function(){var e=Object(M.a)(I.a.mark((function e(t){var a,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,v(b);case 4:r.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),u(null===(a=e.t0.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),x=Object.values(m).some((function(e){return e}));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("section",{className:"login container head-bg"}),Object(N.jsx)("div",{className:e.login?"container-fluid my-info":"container-fluid my-info login-bg",children:Object(N.jsx)("div",{className:"row justify-content-center",children:Object(N.jsx)("div",{className:"col-sm-6 col-xl-4 col-11 login-block",children:Object(N.jsxs)(q.a,{cascade:!0,triggerOnce:!0,children:[Object(N.jsx)("h1",{children:"Reg\xedstrate"}),Object(N.jsxs)("form",{onSubmit:O,children:[Object(N.jsx)(E,{value:b.name,onBlur:n,onChange:s,name:"name",type:"text",label:"Nombre completo",className:"form-control ".concat(h.name&&m.name?"is-invalid":""),placeholder:"Ingresa tu nombre completo"}),Object(N.jsx)(E,{value:b.email,onBlur:n,onChange:s,name:"email",type:"text",label:"Correo electr\xf3nico",className:"form-control ".concat(h.email&&m.email?"is-invalid":""),placeholder:"Ingresa tu correo"}),Object(N.jsx)(E,{value:b.dni,onBlur:n,onChange:s,name:"dni",type:"text",label:"C\xe9dula o documento de identidad",className:"form-control ".concat(h.dni&&m.dni?"is-invalid":""),placeholder:"Ingresa tu c\xe9dula"}),Object(N.jsx)(E,{value:b.password,onBlur:n,onChange:s,name:"password",type:"password",label:"Contrase\xf1a",className:"form-control ".concat(h.password&&m.password?"is-invalid":""),placeholder:"Ingresa tu contrase\xf1a"}),j&&Object(N.jsx)("div",{className:"alert alert-danger",children:j}),Object(N.jsx)(z,{type:"submit",className:"Button Button__enter",disabled:x,children:"Crear cuenta"})]})]})})})})]})});a(283),a(284);function P(e){var t=e.className,a=e.onClick,c=e.children;return Object(N.jsx)("button",{className:t,onClick:a,children:c})}a(285);var U=a(25);function V(e){var t=e.data,a=/(<([^>]+)>)/gi,c=function(e){return String(e).replace("&ntilde;","\xf1").replace("&Ntilde;","\xd1").replace("&amp;","&").replace("&Ntilde;","\xd1").replace("&ntilde;","\xf1").replace("&Ntilde;","\xd1").replace("&Agrave;","\xc0").replace("&Aacute;","\xc1").replace("&Acirc;","\xc2").replace("&Atilde;","\xc3").replace("&Auml;","\xc4").replace("&Aring;","\xc5").replace("&AElig;","\xc6").replace("&Ccedil;","\xc7").replace("&Egrave;","\xc8").replace("&Eacute;","\xc9").replace("&Ecirc;","\xca").replace("&Euml;","\xcb").replace("&Igrave;","\xcc").replace("&Iacute;","\xcd").replace("&Icirc;","\xce").replace("&Iuml;","\xcf").replace("&ETH;","\xd0").replace("&Ntilde;","\xd1").replace("&Ograve;","\xd2").replace("&Oacute;","\xd3").replace("&Ocirc;","\xd4").replace("&Otilde;","\xd5").replace("&Ouml;","\xd6").replace("&Oslash;","\xd8").replace("&Ugrave;","\xd9").replace("&Uacute;","\xda").replace("&Ucirc;","\xdb").replace("&Uuml;","\xdc").replace("&Yacute;","\xdd").replace("&THORN;","\xde").replace("&szlig;","\xdf").replace("&agrave;","\xe0").replace("&aacute;","\xe1").replace("&acirc;","\xe2").replace("&atilde;","\xe3").replace("&auml;","\xe4").replace("&aring;","\xe5").replace("&aelig;","\xe6").replace("&ccedil;","\xe7").replace("&egrave;","\xe8").replace("&eacute;","\xe9").replace("&ecirc;","\xea").replace("&euml;","\xeb").replace("&igrave;","\xec").replace("&iacute;","\xed").replace("&icirc;","\xee").replace("&iuml;","\xef").replace("&eth;","\xf0").replace("&ntilde;","\xf1").replace("&ograve;","\xf2").replace("&oacute;","\xf3").replace("&ocirc;","\xf4").replace("&otilde;","\xf5").replace("&ouml;","\xf6").replace("&oslash;","\xf8").replace("&ugrave;","\xf9").replace("&uacute;","\xfa").replace("&ucirc;","\xfb").replace("&uuml;","\xfc").replace("&yacute;","\xfd").replace("&thorn;","\xfe").replace("&yuml;","\xff")};U.b.register({family:"Oswald",src:"https://fonts.gstatic.com/s/oswald/v13/Y_TKV6o8WovbUd3m_X9aAA.ttf"});var n=U.e.create({body:{paddingTop:35,paddingBottom:65,paddingHorizontal:35},title:{fontSize:24,textAlign:"left",fontFamily:"Oswald",color:"#2a3743"},author:{fontSize:12,textAlign:"center",marginBottom:30,backgroundColor:"#11b495",color:"white",padding:4,borderRadius:20,width:"20%"},small:{fontSize:10,textAlign:"left",color:"#11b495",marginTop:3},subtitle:{fontSize:18,fontFamily:"Oswald",color:"#11b495",marginTop:10},text:{marginTop:5,fontSize:12,textAlign:"left"},image:{marginVertical:15,marginHorizontal:100},header:{fontSize:12,marginBottom:20,textAlign:"left",color:"grey"},pageNumber:{position:"absolute",fontSize:12,bottom:30,left:0,right:0,textAlign:"right",color:"grey"},franja:{backgroundColor:"#11b495",color:"white",padding:10,marginBottom:10,borderRadius:20},data:{fontSize:12,marginRight:50},smallText:{fontSize:10},date:{textAlign:"right",fontSize:10,color:"grey",marginBottom:10}});return Object(N.jsx)(U.a,{children:Object(N.jsxs)(U.d,{style:n.body,children:[Object(N.jsx)(U.f,{style:n.header,fixed:!0,children:"~ Margarita Oliver ~"}),Object(N.jsx)(U.f,{style:n.title,children:"Biopsia"}),Object(N.jsx)(U.f,{style:n.author,children:t.number}),Object(N.jsxs)(U.f,{style:n.date,children:[new Date(t.date).getDate()," ",["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][new Date(t.date).getMonth()]," ",new Date(t.date).getFullYear()]}),Object(N.jsxs)(U.f,{style:n.franja,children:[Object(N.jsxs)(U.f,{style:n.data,children:[t.user.name,"                                           "]}),Object(N.jsxs)(U.f,{style:n.data,children:["CI ",t.user.dni,"                                             "]}),Object(N.jsxs)(U.f,{style:n.data,children:["Edad ",(new Date).getFullYear()-new Date(t.user.birthdate).getFullYear()]})]}),Object(N.jsx)(U.f,{style:n.small,children:"Referencia"}),Object(N.jsx)(U.f,{style:n.smallText,children:t.reference}),Object(N.jsx)(U.f,{style:n.small,children:"Material remitido"}),Object(N.jsx)(U.f,{style:n.smallText,children:t.material}),Object(N.jsx)(U.f,{style:n.small,children:"Diagn\xf3stico cl\xednico"}),Object(N.jsx)(U.f,{style:n.smallText,children:t.clinic_diagnosis}),Object(N.jsx)(U.f,{style:n.subtitle,children:"Informe"}),Object(N.jsx)(U.f,{style:n.text,children:c(t.report.replace(a,""))}),Object(N.jsx)(U.f,{style:n.subtitle,break:!0,children:"Diagn\xf3sticos"}),Object(N.jsx)(U.f,{style:n.text,children:c(t.diagnostics.replace(a,""))}),Object(N.jsx)(U.f,{style:n.pageNumber,render:function(e){var t=e.pageNumber,a=e.totalPages;return"".concat(t," / ").concat(a)},fixed:!0})]})})}var K,G=a(169),W=(a(437),a(91));var X=function(e){var t=e.biopsy,a=e.hideEditModal,n=e.patchBiopsy,s=T({data:{reference:t.reference,material:t.material,clinic_diagnosis:t.clinic_diagnosis},error:{reference:!0,material:!0,clinic_diagnosis:!0},touch:{}},{reference:function(e){return e.length},material:function(e){return e.length},clinic_diagnosis:function(e){return e.length}}),r=s.state,i=s.onBlur,l=s.onChange,d=Object(c.useState)(null),j=Object(o.a)(d,2),u=j[0],b=j[1],m=r.data,h=r.error,O=r.touch,x=function(){var e=Object(M.a)(I.a.mark((function e(a){var c,s,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,p(t.id,m);case 4:c=e.sent,n(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),b(null===(s=e.t0.response)||void 0===s||null===(r=s.data)||void 0===r?void 0:r.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),g=Object.values(h).some((function(e){return e})),v=Object(R.d)(K||(K=Object(_.a)(["\n    from {\n      opacity: 0;\n      transform: translate3d(0, -10rem, 0);\n    }\n  \n    to {\n      opacity: 1;\n      transform: translate3d(0, 0, 0);\n    }"])));return Object(N.jsx)("div",{className:"EditModal",children:Object(N.jsx)(q.b,{direction:"up",duration:700,keyframes:v,children:Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"container EditModal__body",children:[Object(N.jsx)("span",{className:"close",onClick:a}),Object(N.jsx)("div",{className:"row justify-content-center",children:Object(N.jsxs)("div",{className:"col-11",children:[Object(N.jsxs)("h1",{children:["Editar biopsia",Object(N.jsx)("span",{children:t.number})]}),Object(N.jsxs)("form",{onSubmit:x,children:[Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-12 col-sm-4",children:Object(N.jsx)(E,{value:m.reference,onBlur:i,onChange:l,name:"reference",type:"text",label:"Referencia",className:"form-control ".concat(O.reference&&h.reference?"is-invalid":""),placeholder:"Ingresa la referencia"})}),Object(N.jsx)("div",{className:"col-12 col-sm-4",children:Object(N.jsx)(E,{value:m.material,onBlur:i,onChange:l,name:"material",type:"text",label:"Material remitido",className:"form-control ".concat(O.material&&h.material?"is-invalid":""),placeholder:"Ingresa material remitido"})}),Object(N.jsx)("div",{className:"col-12 col-sm-4",children:Object(N.jsx)(E,{value:m.clinic_diagnosis,onBlur:i,onChange:l,name:"clinic_diagnosis",type:"text",label:"Diagn\xf3stico cl\xednico",className:"form-control ".concat(O.clinic_diagnosis&&h.clinic_diagnosis?"is-invalid":""),placeholder:"Ingresa diagn\xf3stico cl\xednico"})}),Object(N.jsxs)("div",{className:"col-12 col-sm-6",children:[" ",Object(N.jsx)("label",{children:"Informe"}),Object(N.jsx)(W.a,{initialValue:t.report,apiKey:"54r6mw2o9ngrlah90uhsoq3nelou082lxiq0tvwml3ryyfqw",init:{height:500,menubar:!1,plugins:["advlist autolink lists link image","charmap print preview anchor help","searchreplace visualblocks code","insertdatetime media table paste wordcount"],toolbar:"bold italic | alignleft aligncenter alignright | bullist numlist"},onChange:function(e){m.report=e.target.getContent()}})]}),Object(N.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(N.jsx)("label",{children:"Diagn\xf3sticos"}),Object(N.jsx)(W.a,{initialValue:t.diagnostics,apiKey:"54r6mw2o9ngrlah90uhsoq3nelou082lxiq0tvwml3ryyfqw",init:{height:500,menubar:!1,plugins:["advlist autolink lists link image","charmap print preview anchor help","searchreplace visualblocks code","insertdatetime media table paste wordcount"],toolbar:"bold italic | alignleft aligncenter alignright | bullist numlist"},onChange:function(e){m.diagnostics=e.target.getContent()}})]})]}),u&&Object(N.jsx)("div",{className:"alert alert-danger",children:u}),Object(N.jsx)(P,{type:"submit",className:"Button Button__enter",disabled:g,children:"Guardar cambios"})]})]})})]})})})})};function Q(e){var t=e.biopsy,a=e.onClick,n=e.admin,s=e.onUpdate,r=Object(c.useState)(""),i=Object(o.a)(r,2),l=i[0],d=i[1],u=Object(c.useState)(!1),b=Object(o.a)(u,2),m=b[0],h=b[1],O=Object(c.useState)(!1),x=Object(o.a)(O,2),p=x[0],g=x[1],v=Object(c.useState)(t),f=Object(o.a)(v,2),w=f[0],y=f[1],C=Object(c.useState)(!1),k=Object(o.a)(C,2),S=k[0],D=k[1],B=function(){var e=Object(M.a)(I.a.mark((function e(a){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c=a,j.get("/biopsy/".concat(c,"/delete"));case 2:d("La biopsia Nro ".concat(t.number," ha sido eliminada exitosamente.")),setTimeout((function(){d(""),h(!m),s()}),2e3);case 4:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[p&&Object(N.jsx)(X,{patchBiopsy:function(e){return function(e){D(!S),g(!p),y(e)}(e)},biopsy:w,hideEditModal:function(){return g(!p)}}),Object(N.jsx)("div",{className:"modal",children:Object(N.jsx)("div",{className:"container",children:Object(N.jsxs)("div",{className:"row justify-content-center",children:[m&&!l&&Object(N.jsxs)("div",{className:"col-sm-6 col-11 modal-body",children:[Object(N.jsx)("span",{className:"close",onClick:function(){h(!m)}}),Object(N.jsx)("div",{className:"message",children:Object(N.jsxs)("div",{className:"content text-center",children:[Object(N.jsxs)("p",{children:["\xbfEliminar la biopsia ",Object(N.jsx)("strong",{children:w.number}),"?"]}),Object(N.jsx)(P,{className:"col-5 delete secondary",onClick:function(){return B(w.id)},children:"Eliminar biopsia"})]})})]}),l&&Object(N.jsx)("div",{className:"col-sm-6 col-11 modal-body",children:Object(N.jsx)("div",{className:"message",children:Object(N.jsx)("div",{className:"content text-center",children:l})})}),!l&&!1===m&&Object(N.jsxs)("div",{className:"col-sm-6 col-11 modal-body",children:[Object(N.jsx)("span",{className:"close",onClick:function(){return a(S)}}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-6",children:Object(N.jsxs)("span",{className:"icon",children:[Object(N.jsx)("h1",{children:"Biopsia"}),Object(N.jsx)("div",{className:"b-number",children:w.number})]})}),Object(N.jsxs)("div",{className:"col-6 b-date text-right d-flex justify-content-end align-items-end",children:[new Date(w.date).getDate()," ",["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"][new Date(w.date).getMonth()]," ",new Date(w.date).getFullYear()]})]}),Object(N.jsx)("div",{className:"patient-info",children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-4 name",children:t.user.name}),Object(N.jsxs)("div",{className:"col-4 text-center",children:[Object(N.jsx)("strong",{children:"CI"})," ",t.user.dni]}),Object(N.jsxs)("div",{className:"col-4 text-right",children:[Object(N.jsx)("strong",{children:"Edad"})," ",(new Date).getFullYear()-new Date(t.user.birthdate).getFullYear()]})]})}),Object(N.jsxs)("p",{children:[Object(N.jsx)("span",{children:"Referencia"})," ",w.reference]}),Object(N.jsxs)("p",{children:[Object(N.jsx)("span",{children:"Material remitido"})," ",w.material]}),Object(N.jsxs)("p",{children:[Object(N.jsx)("span",{children:"Diagn\xf3stico cl\xednico"})," ",w.clinic_diagnosis]}),Object(N.jsx)("p",{children:Object(N.jsx)("span",{children:"Informe"})}),Object(N.jsx)("p",{children:Object(G.a)(w.report)}),Object(N.jsx)("p",{children:Object(N.jsx)("span",{children:"Diagn\xf3sticos"})}),Object(N.jsx)("p",{children:Object(G.a)(w.diagnostics)}),Object(N.jsx)("div",{className:"btn-row",children:Object(N.jsx)(U.c,{className:"primary downloadPDF",document:Object(N.jsx)(V,{data:w}),fileName:"".concat(w.number,".pdf"),children:function(e){e.blob,e.url;var t=e.loading;e.error;return t?"Cargando documento...":"Descargar PDF"}})}),n&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"row justify-content-between",children:[Object(N.jsx)(P,{className:"col-5 edit primary",onClick:function(){return g(!p)},children:"Editar biopsia"}),Object(N.jsx)(P,{className:"col-5 delete secondary",onClick:function(){h(!m),d("")},children:"Eliminar biopsia"})]})]})]})]})})})]})}function Z(e){var t=e.user,a=Object(c.useState)(t),n=Object(o.a)(a,1)[0],s=Object(c.useState)(!1),r=Object(o.a)(s,2),i=r[0],l=r[1],d=Object(c.useState)(t.biopsies),j=Object(o.a)(d,2),b=j[0],m=j[1],h=Object(c.useState)(""),O=Object(o.a)(h,2),x=O[0],p=O[1],g=Object(c.useState)(!1),v=Object(o.a)(g,2),f=v[0],w=v[1],y=Object(c.useState)(""),C=Object(o.a)(y,2),k=C[0],S=C[1],D=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],B=b.filter((function(e){return e.number.toLowerCase().indexOf(x.toLocaleLowerCase())>-1||e.reference.toLowerCase().indexOf(x.toLocaleLowerCase())>-1||e.user.name.toLowerCase().indexOf(x.toLocaleLowerCase())>-1||e.user.dni.toLowerCase().indexOf(x.toLocaleLowerCase())>-1})),A=function(){var e=Object(M.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(),e.next=3,u();case 3:t=e.sent,m(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(M.a)(I.a.mark((function e(a){var c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(!f),"Admin"===t.role&&l(!i),!a){e.next=7;break}return e.next=5,u();case 5:c=e.sent,m(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){if("Admin"===t.role){var e=function(){var e=Object(M.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[]),Object(N.jsxs)(N.Fragment,{children:[f&&Object(N.jsx)(Q,{onUpdate:function(e){return A(e)},onClick:function(e){return _(e)},biopsy:k,admin:i}),Object(N.jsx)("section",{className:"container head-bg",children:Object(N.jsxs)("div",{className:"user-info",children:[Object(N.jsx)("div",{className:"user-profile"}),Object(N.jsxs)("div",{className:"row user-info-row",children:[Object(N.jsx)("div",{className:"col-12 col-sm-10 name",children:Object(N.jsx)("h1",{children:n.name})}),"Admin"===t.role?Object(N.jsx)("div",{className:"col-12",children:Object(N.jsx)("strong",{children:"Admin"})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"col-6  dni",children:[Object(N.jsx)("strong",{children:"CI"})," ",n.dni]}),n.birthdate&&Object(N.jsxs)("div",{className:"col-4 age",children:[Object(N.jsx)("strong",{children:"Edad"})," ",(new Date).getFullYear()-new Date(n.birthdate).getFullYear()]})]})]})]})}),Object(N.jsx)("section",{className:"container",children:Object(N.jsx)("div",{className:"col-12",children:"Admin"===t.role?Object(N.jsxs)("h1",{className:"title",children:["Buscar ",Object(N.jsx)("span",{children:"biopsias"})]}):Object(N.jsxs)("h1",{className:"title",children:["Mis ",Object(N.jsx)("span",{children:"biopsias"})]})})}),Object(N.jsx)("section",{className:"container gray-bg",children:Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-12 form-group search-icon",children:Object(N.jsx)("input",{type:"text",className:"form-control",placeholder:"Admin"===t.role?"Buscar por n\xfamero de biopsia, referencia, c\xe9dula o nombre del paciente":"Buscar por n\xfamero de biopsia o referencia",onChange:function(e){p(e.target.value)},value:x})})})}),Object(N.jsx)("section",{className:"container-fluid custom-card",children:Object(N.jsx)("section",{className:"container custom-info",children:Object(N.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-5",children:0===B.length?Object(N.jsxs)("h1",{className:"col-12 loader",children:["Sin ",Object(N.jsx)("span",{children:"resultados"})]}):B.map((function(e){return Object(N.jsx)("div",{className:"col custom-block",children:Object(N.jsxs)("div",{className:"card h-100",children:[Object(N.jsxs)("div",{className:"card-body",children:[Object(N.jsx)("p",{className:"card-text biopsia",children:e.number}),Object(N.jsx)("p",{className:"Admin"===t.role?"card-text biopsy-date mb-3 mt-5":"card-text biopsy-date mb-3",children:Object(N.jsxs)("strong",{children:[new Date(e.date).getDate()," ",D[new Date(e.date).getMonth()]," ",new Date(e.date).getFullYear()," "]})}),"Admin"===t.role&&Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("p",{className:"patient-name",children:[e.user.name," ",Object(N.jsxs)("span",{className:"patient-dni",children:[Object(N.jsx)("strong",{children:"CI "}),e.user.dni]})]})}),Object(N.jsxs)("p",{className:"Admin"===t.role?"card-text doctor-icon mt-5":"card-text doctor-icon",children:[Object(N.jsx)("span",{className:"",children:"Referencia"}),Object(N.jsx)("br",{})," ",e.reference]}),Object(N.jsxs)("p",{className:"card-text",children:[Object(N.jsx)("span",{className:"scalpel-icon",children:"Material remitido"}),Object(N.jsx)("br",{})," ",e.material]}),Object(N.jsxs)("p",{className:"card-text",children:[Object(N.jsx)("span",{className:"note-icon",children:"Diagn\xf3stico cl\xednico"}),Object(N.jsx)("br",{})," ",e.clinic_diagnosis]})]}),Object(N.jsx)("div",{className:"card-footer",children:Object(N.jsx)(P,{className:"primary plus-icon",onClick:function(){return a=e,w(!f),S(a),void("Admin"===t.role&&l(!i));var a},children:"Ver resultados de la biopsia"})})]})})}))})})})]})}a(438);function $(e){var t=e.user,a=Object(c.useState)(t),n=Object(o.a)(a,1)[0],s=T({data:{name:"",dni:"",reference:"",material:"",clinic_diagnosis:""},error:{name:!0,dni:!0,reference:!0,material:!0,clinic_diagnosis:!0},touch:{}},{name:function(e){return e.length},dni:function(e){return e.length},reference:function(e){return e.length},material:function(e){return e.length},clinic_diagnosis:function(e){return e.length}}),r=s.state,i=s.onBlur,d=s.onChange,j=Object(l.g)(),u=Object(c.useState)(null),b=Object(o.a)(u,2),m=b[0],h=b[1],O=r.data,x=r.error,p=r.touch,v=function(){var e=Object(M.a)(I.a.mark((function e(t){var a,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g(O);case 4:j.push("/biopsias"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),h(null===(a=e.t0.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),f=Object.values(x).some((function(e){return e}));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("section",{className:"container biopsy-bg",children:Object(N.jsxs)("div",{className:"user-info",children:[Object(N.jsx)("div",{className:"user-profile"}),Object(N.jsxs)("div",{className:"row user-info-row",children:[Object(N.jsx)("div",{className:"col-12 col-sm-10 name",children:Object(N.jsx)("h1",{children:n.name})}),"Admin"===t.role?Object(N.jsx)("div",{className:"col-12",children:Object(N.jsx)("strong",{children:"Admin"})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"col-6  dni",children:[Object(N.jsx)("strong",{children:"CI"})," ",n.dni]}),Object(N.jsxs)("div",{className:"col-4 age",children:[Object(N.jsx)("strong",{children:"Edad"})," ",(new Date).getFullYear()-new Date(n.birthdate).getFullYear()]})]})]})]})}),Object(N.jsx)("div",{className:"container my-info new-biopsy",children:Object(N.jsx)("div",{className:"row justify-content-center",children:Object(N.jsxs)("div",{className:"col-11 login-block",children:[Object(N.jsx)("h1",{children:"Nueva biopsia"}),Object(N.jsxs)("form",{onSubmit:v,children:[Object(N.jsx)(E,{value:O.name,onBlur:i,onChange:d,name:"name",type:"text",label:"Nombre",className:"form-control ".concat(p.name&&x.name?"is-invalid":""),placeholder:"Ingresa el nombre del paciente"}),Object(N.jsx)(E,{value:O.dni,onBlur:i,onChange:d,name:"dni",type:"text",label:"C\xe9dula de identidad",className:"form-control ".concat(p.dni&&x.dni?"is-invalid":""),placeholder:"Ingresa c\xe9dula de identidad del paciente"}),Object(N.jsx)(E,{value:O.reference,onBlur:i,onChange:d,name:"reference",type:"text",label:"Referencia",className:"form-control ".concat(p.reference&&x.reference?"is-invalid":""),placeholder:"Ingresa la referencia"}),Object(N.jsx)(E,{value:O.material,onBlur:i,onChange:d,name:"material",type:"text",label:"Material remitido",className:"form-control ".concat(p.material&&x.material?"is-invalid":""),placeholder:"Ingresa material remitido"}),Object(N.jsx)(E,{value:O.clinic_diagnosis,onBlur:i,onChange:d,name:"clinic_diagnosis",type:"text",label:"Diagn\xf3stico cl\xednico",className:"form-control ".concat(p.clinic_diagnosis&&x.clinic_diagnosis?"is-invalid":""),placeholder:"Ingresa diagn\xf3stico cl\xednico"}),Object(N.jsx)("label",{children:"Informe"}),Object(N.jsx)(W.a,{apiKey:"54r6mw2o9ngrlah90uhsoq3nelou082lxiq0tvwml3ryyfqw",init:{height:500,menubar:!1,plugins:["advlist autolink lists link image","charmap print preview anchor help","searchreplace visualblocks code","insertdatetime media table paste wordcount"],toolbar:"bold italic | alignleft aligncenter alignright | bullist numlist"},onChange:function(e){O.report=e.target.getContent()}}),Object(N.jsx)("label",{children:"Diagn\xf3sticos"}),Object(N.jsx)(W.a,{apiKey:"54r6mw2o9ngrlah90uhsoq3nelou082lxiq0tvwml3ryyfqw",init:{height:500,menubar:!1,plugins:["advlist autolink lists link image","charmap print preview anchor help","searchreplace visualblocks code","insertdatetime media table paste wordcount"],toolbar:"bold italic | alignleft aligncenter alignright | bullist numlist"},onChange:function(e){O.diagnostics=e.target.getContent()}}),m&&Object(N.jsx)("div",{className:"alert alert-danger",children:m}),Object(N.jsx)(z,{type:"submit",className:"Button Button__enter",disabled:f,children:"Agregar biopsia"})]})]})})})]})}a(439),a(440);var ee=a(244),te=a.n(ee);function ae(e){var t=e.user,a=e.onClick,n=e.onSetDate,s=T({data:{userId:t.id,date:new Date},error:{date:!0}},{date:function(e){return e.length}}).state,r=s.data,i=s.error,l=Object(c.useState)(new Date),d=Object(o.a)(l,2),j=(d[0],d[1]),u=Object(c.useState)(!1),b=Object(o.a)(u,2),m=b[0],h=b[1],O=Object.values(i).some((function(e){return e}));return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:m?"modal AddDateModal close-modal":"modal AddDateModal",children:Object(N.jsx)("div",{className:"container",children:Object(N.jsx)("div",{className:"row justify-content-center",children:Object(N.jsxs)("div",{className:"col-11 col-sm-6 modal-body",children:[Object(N.jsxs)("div",{className:"user-info",children:[Object(N.jsx)("div",{className:"user-profile"}),Object(N.jsxs)("div",{className:"row user-info-row",children:[Object(N.jsx)("div",{className:"col-12 col-sm-10 name",children:Object(N.jsx)("h1",{children:t.name})}),"Admin"===t.role?Object(N.jsx)("div",{className:"col-12",children:Object(N.jsx)("strong",{children:"Admin"})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"col-6  dni",children:[Object(N.jsx)("strong",{children:"CI"})," ",t.dni]}),Object(N.jsxs)("div",{className:"col-4 age",children:[Object(N.jsx)("strong",{children:"Edad"})," ",(new Date).getFullYear()-new Date(t.birthdate).getFullYear()]})]})]})]}),Object(N.jsx)("span",{className:"close",onClick:a}),Object(N.jsx)("h1",{children:"Agendar pr\xf3xima cita"}),Object(N.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h(!m)},children:[Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{className:"label",htmlFor:"date",children:"Date"}),Object(N.jsx)(te.a,{onChange:function(e){j(e),r.date=e},value:r.date,locale:"es-ES",format:"dd-MM-y h:mm a"})]}),Object(N.jsx)(P,{type:"submit",className:"Button Button__enter",disabled:O,onClick:function(){return n(r)},children:"Agendar cita"})]})]})})})})})}a(462);function ce(e){var t=e.user,a=e.onClick,n=Object(c.useState)(!1),s=Object(o.a)(n,2),r=s[0],i=(s[1],Object(c.useState)([])),l=Object(o.a)(i,2),d=l[0],u=l[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(M.a)(I.a.mark((function e(){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c=t.id,j.get("/histories/".concat(c));case 2:a=e.sent,u(a);case 4:case"end":return e.stop()}var c}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:r?"modal PatientModal close-modal":"modal PatientModal",children:Object(N.jsx)("div",{className:"container",children:Object(N.jsx)("div",{className:"row justify-content-center",children:Object(N.jsxs)("div",{className:"col-11 modal-body",children:[Object(N.jsx)("span",{className:"close",onClick:a}),Object(N.jsx)("h1",{children:t.name}),Object(N.jsx)("div",{children:t.dni}),Object(N.jsx)("h1",{children:"Historias"}),d.map((function(e){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"patient-history",children:[e.date,e.visit_reason,e.clinic_history,e.diagnostics,e.treatment]}),Object(N.jsx)("hr",{})]})}))]})})})})})}function ne(e){var t=e.user,a=function(e){var t=new Date(e),a=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"][t.getDay()],c=t.getHours(),n=t.getMinutes();n<10&&(n="0"+n);var s="am";return c>12&&(c-=12,s="pm"),a+" "+t.getDate()+" "+["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.getMonth()]+" "+t.getFullYear()+" - "+c+":"+n+s+" "},n=Object(c.useState)(t),s=Object(o.a)(n,1)[0],r=Object(c.useState)(""),i=Object(o.a)(r,2),l=i[0],d=i[1],j=Object(c.useState)([]),u=Object(o.a)(j,2),O=u[0],x=u[1],p=Object(c.useState)(""),g=Object(o.a)(p,2),v=g[0],f=g[1],w=Object(c.useState)(!1),y=Object(o.a)(w,2),C=y[0],k=y[1],S=Object(c.useState)(!1),D=Object(o.a)(S,2),B=D[0],A=D[1],_=Object(c.useState)(""),F=Object(o.a)(_,2),E=F[0],z=F[1],L=Object(c.useState)([]),Y=Object(o.a)(L,2),T=Y[0],q=Y[1],R=O.filter((function(e){return e.name.toLowerCase().indexOf(v.toLocaleLowerCase())>-1||e.dni.toLowerCase().indexOf(v.toLocaleLowerCase())>-1})),J=function(e){z(e),k(!C)},H=function(){var e=Object(M.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:return e.next=4,b();case 4:a=e.sent,x(a),k(!C);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(M.a)(I.a.mark((function e(t){var a,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,m(a);case 3:return e.next=5,b();case 5:c=e.sent,x(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){if("Admin"===t.role){var e=function(){var e=Object(M.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:t=e.sent,x(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}else d("No tiene los privilegios para visitar esta p\xe1gina.")}),[]),Object(N.jsxs)(N.Fragment,{children:[C&&Object(N.jsx)(ae,{onClick:function(){k(!C)},user:E,onSetDate:H}),B&&Object(N.jsx)(ce,{onClick:function(){A(!B)},user:T}),Object(N.jsx)("section",{className:"container head-bg",children:Object(N.jsxs)("div",{className:"user-info",children:[Object(N.jsx)("div",{className:"user-profile"}),Object(N.jsxs)("div",{className:"row user-info-row",children:[Object(N.jsx)("div",{className:"col-12 col-sm-10 name",children:Object(N.jsx)("h1",{children:s.name})}),"Admin"===t.role?Object(N.jsx)("div",{className:"col-12",children:Object(N.jsx)("strong",{children:"Admin"})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"col-6  dni",children:[Object(N.jsx)("strong",{children:"CI"})," ",s.dni]}),Object(N.jsxs)("div",{className:"col-4 age",children:[Object(N.jsx)("strong",{children:"Edad"})," ",(new Date).getFullYear()-new Date(s.birthdate).getFullYear()]})]})]})]})}),Object(N.jsx)("section",{className:"container",children:Object(N.jsx)("div",{className:"col-12",children:"Admin"===t.role&&Object(N.jsxs)("h1",{className:"title",children:["Buscar ",Object(N.jsx)("span",{children:"pacientes"})]})})}),Object(N.jsx)("section",{className:"container gray-bg",children:Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-12 form-group search-icon",children:Object(N.jsx)("input",{type:"text",className:"form-control",placeholder:"Admin"===t.role&&"Buscar por nombre o c\xe9dula del paciente",onChange:function(e){f(e.target.value)},value:v})})})}),Object(N.jsx)("section",{className:"container-fluid custom-card patients",children:Object(N.jsxs)("section",{className:"container custom-info",children:[l&&Object(N.jsx)("div",{className:"message",children:l}),Object(N.jsx)("div",{className:"row row-cols-1 row-cols-md-3 g-5",children:0===R.length?Object(N.jsxs)("h1",{className:"col-12 loader",children:["Sin ",Object(N.jsx)("span",{children:"resultados"})]}):R.map((function(e){return Object(N.jsx)("div",{className:"col custom-block",children:Object(N.jsxs)("div",{className:"card",children:[Object(N.jsxs)("div",{className:"card-body",children:["Admin"===t.role&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("p",{className:"card-text biopsia",children:[e.name," ",Object(N.jsxs)("span",{className:"patient-dni",children:[Object(N.jsx)("strong",{children:"CI "}),e.dni]})]}),e.birthdate&&Object(N.jsxs)("p",{className:"card-text biopsy-date",children:[Object(N.jsx)("strong",{children:"Edad"})," ",(new Date).getFullYear()-new Date(e.birthdate).getFullYear(),"  a\xf1o(s)"]})]}),Object(N.jsxs)("div",{className:"card-text email-icon mt-5",children:[Object(N.jsx)("span",{className:"",children:"Email"}),Object(N.jsx)("br",{})," ",e.email]}),Object(N.jsxs)("div",{className:"card-text phone-icon mt-5",children:[Object(N.jsx)("span",{className:"",children:"Tel\xe9fono"}),Object(N.jsx)("br",{})," ",e.phone]}),Object(N.jsxs)("div",{className:"card-text address-icon mt-5",children:[Object(N.jsx)("span",{className:"",children:"Direcci\xf3n"}),Object(N.jsx)("br",{})," ",e.address,", ",e.city," - ",e.zipcode]}),new Date(e.next_date.date)>new Date&&!0===e.next_date.isDate&&Object(N.jsxs)("div",{className:"card-text calendar-icon",children:[Object(N.jsx)("span",{className:"next-date",children:"Pr\xf3xima cita"}),Object(N.jsx)("br",{}),Object(N.jsxs)("div",{className:"icons d-flex justify-content-between",children:[a(e.next_date.date),Object(N.jsxs)("span",{className:"d-flex justify-content-start flex-column position-absolute",children:[Object(N.jsx)(P,{className:"edit-icon",onClick:function(){return J(e)}}),Object(N.jsx)(P,{className:"delete-icon",onClick:function(){return U(e)}})]})]})]})]}),Object(N.jsxs)("div",{className:"card-footer",children:[(new Date(e.next_date.date)<new Date||!1===e.next_date.isDate)&&Object(N.jsx)("p",{className:"card-text purple-bg",children:Object(N.jsx)(P,{className:"secondary plus-icon",onClick:function(){return J(e)},children:"Agendar cita"})}),Object(N.jsxs)(P,{className:"primary plus-icon",onClick:function(){return t=e,A(!B),void q(t);var t},children:["Ver historia de ",e.name]})]})]})})}))})]})})]})}a(463),a(464);function se(e){var t=e.data,a=e.name,c=e.onChange,n=e.label;return Object(N.jsxs)("div",{className:"RadioButtonWithLabel",children:[Object(N.jsx)("p",{children:n}),null===t||void 0===t?void 0:t.sort().map((function(e){return Object(N.jsxs)("div",{className:"form-check form-check-inline",children:[Object(N.jsx)("input",{className:"form-check-input",type:"radio",name:a,id:e,value:e,onChange:c}),Object(N.jsx)("label",{className:"form-check-label",htmlFor:e,children:e})]})}))]})}function re(e){var t=e.user,a=Object(c.useState)(t),n=Object(o.a)(a,1)[0],s=T({data:{name:"",email:"",dni:"",address:"",zipcode:"",city:"",phone:"",birthdate:"",sex:"",work:"",insurance_carrier:"",marital_status:""},error:{name:!0,email:!0,dni:!0,address:!0,zipcode:!0,city:!0,phone:!0,birthdate:!0,sex:!0,work:!0,insurance_carrier:!0,marital_status:!0},touch:{}},{name:function(e){return e.length},email:function(e){return e.length},dni:function(e){return e.length},address:function(e){return e.length},zipcode:function(e){return e.length},city:function(e){return e.length},phone:function(e){return e.length},birthdate:function(e){return e.length},sex:function(e){return e.length},work:function(e){return e.length},insurance_carrier:function(e){return e.length},marital_status:function(e){return e.length}}),r=s.state,i=s.onBlur,d=s.onChange,j=Object(l.g)(),u=Object(c.useState)(null),b=Object(o.a)(u,2),m=b[0],h=b[1],x=r.data,p=r.error,g=r.touch,v=function(){var e=Object(M.a)(I.a.mark((function e(t){var a,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,O(x);case 4:j.push("/pacientes"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),h(null===(a=e.t0.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),f=Object.values(p).some((function(e){return e}));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("section",{className:"container biopsy-bg",children:Object(N.jsxs)("div",{className:"user-info",children:[Object(N.jsx)("div",{className:"user-profile"}),Object(N.jsxs)("div",{className:"row user-info-row",children:[Object(N.jsx)("div",{className:"col-12 col-sm-10 name",children:Object(N.jsx)("h1",{children:n.name})}),"Admin"===t.role?Object(N.jsx)("div",{className:"col-12",children:Object(N.jsx)("strong",{children:"Admin"})}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"col-6  dni",children:[Object(N.jsx)("strong",{children:"CI"})," ",n.dni]}),Object(N.jsxs)("div",{className:"col-4 age",children:[Object(N.jsx)("strong",{children:"Edad"})," ",(new Date).getFullYear()-new Date(n.birthdate).getFullYear()]})]})]})]})}),Object(N.jsx)("div",{className:"container my-info new-patient",children:Object(N.jsx)("div",{className:"row justify-content-center",children:Object(N.jsxs)("div",{className:"col-11 login-block",children:[Object(N.jsx)("h1",{children:"Nuevo paciente"}),Object(N.jsx)("h3",{children:"Datos del paciente"}),Object(N.jsxs)("form",{onSubmit:v,children:[Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-12 col-sm-6",children:Object(N.jsx)(E,{value:x.name,onBlur:i,onChange:d,name:"name",type:"text",label:"Nombre completo",className:"form-control ".concat(g.name&&p.name?"is-invalid":""),placeholder:"Ingresa el nombre del paciente"})}),Object(N.jsx)("div",{className:"col-12 col-sm-6",children:Object(N.jsx)(E,{value:x.email,onBlur:i,onChange:d,name:"email",type:"text",label:"Correo electr\xf3nico",className:"form-control ".concat(g.email&&p.email?"is-invalid":""),placeholder:"Ingresa correo electr\xf3nico del paciente"})})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-12 col-sm-4",children:Object(N.jsx)(E,{value:x.dni,onBlur:i,onChange:d,name:"dni",type:"text",label:"C\xe9dula de identidad",className:"form-control ".concat(g.dni&&p.dni?"is-invalid":""),placeholder:"Ingresa c\xe9dula de identidad del paciente"})}),Object(N.jsx)("div",{className:"col-12 col-sm-4",children:Object(N.jsx)(E,{value:x.phone,onBlur:i,onChange:d,name:"phone",type:"text",label:"Tel\xe9fono",className:"form-control ".concat(g.phone&&p.phone?"is-invalid":""),placeholder:"Ingresa tel\xe9fono de contacto"})}),Object(N.jsx)("div",{className:"col-12 col-sm-4",children:Object(N.jsx)(E,{value:x.birthdate,onBlur:i,onChange:d,name:"birthdate",type:"text",label:"Fecha de nacimiento (dd/mm/aaaa)",className:"form-control ".concat(g.birthdate&&p.birthdate?"is-invalid":""),placeholder:"Ingresa fecha de nacimiento"})})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-12 col-sm-4",children:Object(N.jsx)(E,{value:x.work,onBlur:i,onChange:d,name:"work",type:"text",label:"Ocupaci\xf3n",className:"form-control ".concat(g.work&&p.work?"is-invalid":""),placeholder:"Ingresa ocupaci\xf3n del paciente"})}),Object(N.jsx)("div",{className:"col-12 col-sm-4",children:Object(N.jsx)(se,{data:["Hombre","Mujer"],name:"sex",value:x.sex,onBlur:i,onChange:d,label:"Sexo"})}),Object(N.jsx)("div",{className:"col-12 col-sm-4",children:Object(N.jsx)(se,{data:["Soltero/a","Casado/a"],name:"marital_status",value:x.marital_status,onBlur:i,onChange:d,label:"Estado civil"})})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-12",children:Object(N.jsx)("h3",{className:"mt-5",children:"Direcci\xf3n del paciente"})}),Object(N.jsx)("div",{className:"col-12 col-sm-4",children:Object(N.jsx)(E,{value:x.address,onBlur:i,onChange:d,name:"address",type:"text",label:"Direcci\xf3n",className:"form-control ".concat(g.address&&p.address?"is-invalid":""),placeholder:"Ingresa la direcci\xf3n"})}),Object(N.jsx)("div",{className:"col-12 col-sm-4",children:Object(N.jsx)(E,{value:x.zipcode,onBlur:i,onChange:d,name:"zipcode",type:"text",label:"C\xf3digo postal",className:"form-control ".concat(g.zipcode&&p.zipcode?"is-invalid":""),placeholder:"Ingresa c\xf3digo postal"})}),Object(N.jsx)("div",{className:"col-12 col-sm-4",children:Object(N.jsx)(E,{value:x.city,onBlur:i,onChange:d,name:"city",type:"text",label:"Ciudad",className:"form-control ".concat(g.city&&p.city?"is-invalid":""),placeholder:"Ingresa ciudad"})})]}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsx)("div",{className:"col-12",children:Object(N.jsx)("h3",{className:"mt-5",children:"Seguro del paciente"})}),Object(N.jsx)("div",{className:"col-12 col-sm-4",children:Object(N.jsx)(E,{value:x.insurance_carrier,onBlur:i,onChange:d,name:"insurance_carrier",type:"text",label:"Seguro m\xe9dico",className:"form-control ".concat(g.insurance_carrier&&p.insurance_carrier?"is-invalid":""),placeholder:"Ingresa compa\xf1\xeda de seguro"})})]}),m&&Object(N.jsx)("div",{className:"alert alert-danger",children:m}),Object(N.jsx)(z,{type:"submit",className:"Button Button__enter",disabled:f,children:"Agregar paciente"})]})]})})})]})}a(465);function ie(e){var t=e.user,a=T({data:{id:t.id,password:"",newpassword:""},error:{password:!0,newpassword:!0},touch:{}},{password:function(e){return e.length},newpassword:function(e){return e.length}}),n=a.state,s=a.onBlur,r=a.onChange,i=Object(l.g)(),d=Object(c.useState)(""),j=Object(o.a)(d,2),u=j[0],b=j[1],m=Object(c.useState)(null),h=Object(o.a)(m,2),O=h[0],x=h[1],p=n.data,g=n.error,v=n.touch,w=function(){var e=Object(M.a)(I.a.mark((function e(t){var a,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,f(p);case 4:document.querySelector(".message").classList.remove("d-none"),document.querySelector(".alert").classList.add("d-none"),b("La contrase\xf1a ha sido actualizada"),setTimeout((function(){document.querySelector(".message").classList.add("d-none"),i.push("/biopsias")}),3e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),x(null===(a=e.t0.response)||void 0===a||null===(c=a.data)||void 0===c?void 0:c.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),y=Object.values(g).some((function(e){return e}));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("section",{className:"container head-bg"}),Object(N.jsx)("div",{className:"container-fluid my-info",children:Object(N.jsx)("div",{className:"row justify-content-center",children:Object(N.jsxs)("div",{className:"col-sm-6 col-xl-4 col-11 login-block",children:[Object(N.jsx)("h1",{children:"Crea tu nueva contrase\xf1a"}),!u&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("p",{className:"mb-5",children:["Hola ",t.name,"! necesitamos que te tomes unos minutos y actualices tu contrase\xf1a, recuerda que esta debe tener m\xednimo 6 caracteres y debe contener al menos un n\xfamero y una letra may\xfascula."]}),Object(N.jsxs)("form",{onSubmit:w,children:[Object(N.jsx)(E,{value:p.password,onBlur:s,onChange:r,name:"password",type:"password",label:"Introduce tu contrase\xf1a actual",className:"form-control ".concat(v.password&&g.password?"is-invalid":""),placeholder:"Ingresa nueva contrase\xf1a"}),Object(N.jsx)(E,{value:p.newpassword,onBlur:s,onChange:r,name:"newpassword",type:"password",label:"Introduce tu nueva contrase\xf1a",className:"form-control ".concat(v.newpassword&&g.newpassword?"is-invalid":""),placeholder:"Repite la contrase\xf1a"}),Object(N.jsx)(z,{type:"submit",className:"Button Button__enter",disabled:y,children:"Actualizar contrase\xf1a"})]})]}),O&&Object(N.jsx)("div",{className:"alert alert-danger",children:O}),Object(N.jsx)("div",{className:"message d-none text-center",children:u||""})]})})})]})}var le=function(){var e=y().user;return Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)(A,{}),Object(N.jsxs)(l.d,{children:[Object(N.jsx)(l.b,{exact:!0,path:"/login",login:!0,component:J}),Object(N.jsx)(l.b,{exact:!0,path:"/register",login:!0,component:H}),Object(N.jsx)(l.b,{exact:!0,path:"/activate/:token",render:function(e){return Object(N.jsx)(J,Object(i.a)(Object(i.a)({},e),{},{confirmed:!0}))}}),Object(N.jsx)(S,{exact:!0,path:"/pacientes",render:function(t){return Object(N.jsx)(ne,Object(i.a)(Object(i.a)({},t),{},{user:e}))}}),Object(N.jsx)(S,{exact:!0,path:"/biopsias",render:function(t){return Object(N.jsx)(Z,Object(i.a)(Object(i.a)({},t),{},{user:e}))}}),Object(N.jsx)(S,{exact:!0,path:"/update-password",render:function(t){return Object(N.jsx)(ie,Object(i.a)(Object(i.a)({},t),{},{user:e}))}}),Object(N.jsx)(S,{exact:!0,path:"/nueva-biopsia",render:function(t){return Object(N.jsx)($,Object(i.a)(Object(i.a)({},t),{},{user:e}))}}),Object(N.jsx)(S,{exact:!0,path:"/nuevo-paciente",render:function(t){return Object(N.jsx)(re,Object(i.a)(Object(i.a)({},t),{},{user:e}))}}),!e&&Object(N.jsx)(l.a,{to:"/login"})]}),Object(N.jsx)(D,{})]})};r.a.render(Object(N.jsx)(n.a.StrictMode,{children:Object(N.jsx)(B.a,{children:Object(N.jsx)(C,{children:Object(N.jsx)(le,{})})})}),document.getElementById("root"))}},[[467,1,2]]]);
//# sourceMappingURL=main.6d448ee8.chunk.js.map